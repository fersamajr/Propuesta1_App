{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\ferna\\\\OneDrive\\\\Documentos\\\\App_Web_Cafe\\\\Propuesta1_App\\\\front_end\\\\src\\\\components\\\\ClientLayout.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { useNavigate, Link } from 'react-router-dom';\nimport api from '../api/api';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst CONTAINER_STYLE = {\n  minHeight: '100vh',\n  background: '#1e293b',\n  // Fondo oscuro del Dashboard\n  color: '#fff',\n  padding: 20,\n  display: 'flex',\n  flexDirection: 'column',\n  alignItems: 'center'\n};\nconst HEADER_WRAPPER_STYLE = {\n  width: '100%',\n  maxWidth: 1000,\n  // Máximo ancho para centrar el contenido\n  display: 'flex',\n  justifyContent: 'space-between',\n  alignItems: 'center',\n  marginBottom: 30\n};\n\n/**\r\n * Layout principal para todas las páginas del cliente. \r\n * Maneja el diseño oscuro, la autenticación y la cabecera.\r\n * @param {string} title - Título de la página (se muestra en el encabezado).\r\n * @param {React.ReactNode} children - Contenido específico de la página.\r\n */\nfunction ClientLayout({\n  title,\n  children\n}) {\n  _s();\n  const [profile, setProfile] = useState(null);\n  const navigate = useNavigate();\n  const handleLogout = () => {\n    localStorage.removeItem('token');\n    navigate('/login', {\n      replace: true\n    });\n  };\n  useEffect(() => {\n    const token = localStorage.getItem('token');\n    if (!token) {\n      handleLogout(); // Redirigir si no hay token\n      return;\n    }\n    const config = {\n      headers: {\n        Authorization: `Bearer ${token}`\n      }\n    };\n    // Cargar perfil una vez para el saludo en el header\n    api.get('/profile/me', config).then(res => setProfile(res.data)).catch(err => {\n      console.error('Error cargando perfil', err);\n      // Opcional: manejar error de token expirado\n    });\n  }, [navigate]);\n  const username = profile ? profile.firstName && profile.lastName ? `${profile.firstName} ${profile.lastName}` : profile.username : 'Cliente';\n  const displayTitle = title || `Bienvenido, ${username}`; // Usar el título de la página o el saludo de bienvenida\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: CONTAINER_STYLE,\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      style: HEADER_WRAPPER_STYLE,\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        style: {\n          color: '#a78Bfa',\n          margin: 0,\n          fontSize: 24\n        },\n        children: displayTitle\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: 'flex',\n          gap: 15,\n          alignItems: 'center'\n        },\n        children: [title && displayTitle.indexOf('Bienvenido') === -1 && /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => navigate('/bienvenida'),\n          style: {\n            background: '#3b82f6',\n            color: '#fff',\n            padding: '8px 16px',\n            borderRadius: 8,\n            border: 'none',\n            cursor: 'pointer',\n            fontWeight: '600'\n          },\n          children: \"Dashboard\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 26\n        }, this), /*#__PURE__*/_jsxDEV(Link, {\n          to: \"/contacto\",\n          style: {\n            background: '#7dd3fc',\n            color: '#222',\n            padding: '8px 16px',\n            borderRadius: 8,\n            border: 'none',\n            cursor: 'pointer',\n            fontWeight: '600',\n            textDecoration: 'none'\n          },\n          children: \"Soporte\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: handleLogout,\n          style: {\n            background: '#ef4444',\n            color: '#fff',\n            padding: '8px 16px',\n            borderRadius: 8,\n            border: 'none',\n            cursor: 'pointer'\n          },\n          children: \"Salir\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 13\n    }, this), children]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 60,\n    columnNumber: 9\n  }, this);\n}\n_s(ClientLayout, \"GZ1HIHbzzs+hDAE1bRyUtnRbBYo=\", false, function () {\n  return [useNavigate];\n});\n_c = ClientLayout;\nexport default ClientLayout;\nvar _c;\n$RefreshReg$(_c, \"ClientLayout\");","map":{"version":3,"names":["React","useState","useEffect","useNavigate","Link","api","jsxDEV","_jsxDEV","CONTAINER_STYLE","minHeight","background","color","padding","display","flexDirection","alignItems","HEADER_WRAPPER_STYLE","width","maxWidth","justifyContent","marginBottom","ClientLayout","title","children","_s","profile","setProfile","navigate","handleLogout","localStorage","removeItem","replace","token","getItem","config","headers","Authorization","get","then","res","data","catch","err","console","error","username","firstName","lastName","displayTitle","style","margin","fontSize","fileName","_jsxFileName","lineNumber","columnNumber","gap","indexOf","onClick","borderRadius","border","cursor","fontWeight","to","textDecoration","_c","$RefreshReg$"],"sources":["C:/Users/ferna/OneDrive/Documentos/App_Web_Cafe/Propuesta1_App/front_end/src/components/ClientLayout.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { useNavigate, Link } from 'react-router-dom';\r\nimport api from '../api/api';\r\n\r\nconst CONTAINER_STYLE = { \r\n    minHeight: '100vh', \r\n    background: '#1e293b', // Fondo oscuro del Dashboard\r\n    color: '#fff', \r\n    padding: 20, \r\n    display: 'flex', \r\n    flexDirection: 'column', \r\n    alignItems: 'center' \r\n};\r\n\r\nconst HEADER_WRAPPER_STYLE = { \r\n    width: '100%', \r\n    maxWidth: 1000, // Máximo ancho para centrar el contenido\r\n    display: 'flex', \r\n    justifyContent: 'space-between', \r\n    alignItems: 'center', \r\n    marginBottom: 30 \r\n};\r\n\r\n/**\r\n * Layout principal para todas las páginas del cliente. \r\n * Maneja el diseño oscuro, la autenticación y la cabecera.\r\n * @param {string} title - Título de la página (se muestra en el encabezado).\r\n * @param {React.ReactNode} children - Contenido específico de la página.\r\n */\r\nfunction ClientLayout({ title, children }) {\r\n    const [profile, setProfile] = useState(null);\r\n    const navigate = useNavigate();\r\n\r\n    const handleLogout = () => {\r\n        localStorage.removeItem('token');\r\n        navigate('/login', { replace: true });\r\n    };\r\n\r\n    useEffect(() => {\r\n        const token = localStorage.getItem('token');\r\n        if (!token) {\r\n            handleLogout(); // Redirigir si no hay token\r\n            return;\r\n        }\r\n\r\n        const config = { headers: { Authorization: `Bearer ${token}` } };\r\n        // Cargar perfil una vez para el saludo en el header\r\n        api.get('/profile/me', config)\r\n            .then(res => setProfile(res.data))\r\n            .catch(err => {\r\n                console.error('Error cargando perfil', err);\r\n                // Opcional: manejar error de token expirado\r\n            });\r\n    }, [navigate]);\r\n\r\n    const username = profile ? (profile.firstName && profile.lastName ? `${profile.firstName} ${profile.lastName}` : profile.username) : 'Cliente';\r\n    const displayTitle = title || `Bienvenido, ${username}`; // Usar el título de la página o el saludo de bienvenida\r\n\r\n    return (\r\n        <div style={CONTAINER_STYLE}>\r\n            \r\n            {/* HEADER (Título, Soporte, Salir) */}\r\n            <div style={HEADER_WRAPPER_STYLE}>\r\n                <h1 style={{ color: '#a78Bfa', margin: 0, fontSize: 24 }}>{displayTitle}</h1>\r\n                <div style={{ display: 'flex', gap: 15, alignItems: 'center' }}>\r\n                    \r\n                    {/* Botón de Dashboard, visible en todas las sub-páginas */}\r\n                    {title && displayTitle.indexOf('Bienvenido') === -1 && (\r\n                         <button \r\n                            onClick={() => navigate('/bienvenida')} \r\n                            style={{ background: '#3b82f6', color: '#fff', padding: '8px 16px', borderRadius: 8, border: 'none', cursor: 'pointer', fontWeight: '600' }}\r\n                        >\r\n                            Dashboard\r\n                        </button>\r\n                    )}\r\n\r\n                    <Link to=\"/contacto\" style={{ background: '#7dd3fc', color: '#222', padding: '8px 16px', borderRadius: 8, border: 'none', cursor: 'pointer', fontWeight: '600', textDecoration: 'none' }}>Soporte</Link>\r\n                    <button onClick={handleLogout} style={{ background: '#ef4444', color: '#fff', padding: '8px 16px', borderRadius: 8, border: 'none', cursor: 'pointer' }}>Salir</button>\r\n                </div>\r\n            </div>\r\n\r\n            {/* Contenido específico de la página */}\r\n            {children}\r\n            \r\n        </div>\r\n    );\r\n}\r\n\r\nexport default ClientLayout;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}