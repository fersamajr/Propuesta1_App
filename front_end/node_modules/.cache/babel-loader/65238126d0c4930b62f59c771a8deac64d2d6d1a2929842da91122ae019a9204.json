{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\ferna\\\\OneDrive\\\\Documentos\\\\App_Web_Cafe\\\\Propuesta1_App\\\\front_end\\\\src\\\\pages\\\\admin\\\\AdminInventario.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport api from '../../api/api';\nimport { useNavigate } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nfunction AdminInventario() {\n  _s();\n  const navigate = useNavigate();\n  const [activeTab, setActiveTab] = useState('global'); // 'global' | 'personal'\n\n  // --- ESTADOS INVENTARIO GLOBAL ---\n  const [inventariosGlobal, setInventariosGlobal] = useState([]);\n  const [loadingGlobal, setLoadingGlobal] = useState(false);\n\n  // --- ESTADOS INVENTARIO PERSONAL ---\n  const [miInventario, setMiInventario] = useState({\n    cantidad: 0,\n    ultimaCantidad: 0\n  });\n  const [inputMolido, setInputMolido] = useState('');\n  const [inputGrano, setInputGrano] = useState('');\n  const [message, setMessage] = useState('');\n  const [loadingPersonal, setLoadingPersonal] = useState(false);\n  useEffect(() => {\n    if (activeTab === 'global') {\n      fetchGlobal();\n    } else {\n      fetchPersonal();\n    }\n  }, [activeTab]);\n\n  // 1. FETCH GLOBAL (Solo Clientes)\n  const fetchGlobal = async () => {\n    setLoadingGlobal(true);\n    try {\n      const token = localStorage.getItem('token');\n      const response = await api.get('/inventario', {\n        headers: {\n          Authorization: `Bearer ${token}`\n        }\n      });\n\n      // ðŸ” FILTRO: Excluir al Admin de la lista global\n      // Solo pasamos los que tengan rol 'Cliente' (o que NO sean Admin)\n      const soloClientes = response.data.filter(inv => {\n        var _inv$usuario;\n        return ((_inv$usuario = inv.usuario) === null || _inv$usuario === void 0 ? void 0 : _inv$usuario.rol) === 'Cliente';\n      });\n\n      // Ordenamos por cantidad (menor a mayor para ver urgencias)\n      const sorted = soloClientes.sort((a, b) => a.cantidad - b.cantidad);\n      setInventariosGlobal(sorted);\n    } catch (error) {\n      console.error(\"Error global\", error);\n    } finally {\n      setLoadingGlobal(false);\n    }\n  };\n\n  // 2. FETCH PERSONAL (Mi propio stock)\n  const fetchPersonal = async () => {\n    setLoadingPersonal(true);\n    try {\n      const token = localStorage.getItem('token');\n      const response = await api.get('/inventario/me', {\n        headers: {\n          Authorization: `Bearer ${token}`\n        }\n      });\n      if (response.data) {\n        setMiInventario(response.data);\n      }\n    } catch (error) {\n      console.error(\"Error personal\", error);\n    } finally {\n      setLoadingPersonal(false);\n    }\n  };\n\n  // 3. ACTUALIZAR PERSONAL\n  const handleUpdatePersonal = async () => {\n    const token = localStorage.getItem('token');\n    const nuevoMolido = parseFloat(inputMolido) || 0;\n    const nuevoGrano = parseFloat(inputGrano) || 0;\n    const nuevoTotal = nuevoMolido + nuevoGrano;\n    if (nuevoTotal <= 0) return setMessage('âš ï¸ Ingresa una cantidad vÃ¡lida.');\n    try {\n      const payload = {\n        cantidad: nuevoTotal,\n        ultimaCantidad: miInventario.cantidad\n      };\n\n      // Intentamos PATCH, si falla POST (lÃ³gica robusta)\n      let response;\n      try {\n        response = await api.patch('/inventario/me', payload, {\n          headers: {\n            Authorization: `Bearer ${token}`\n          }\n        });\n      } catch {\n        response = await api.post('/inventario/me', payload, {\n          headers: {\n            Authorization: `Bearer ${token}`\n          }\n        });\n      }\n      setMiInventario(response.data);\n      setMessage('âœ… Inventario actualizado.');\n      setInputMolido('');\n      setInputGrano('');\n      setTimeout(() => setMessage(''), 3000);\n    } catch (error) {\n      console.error(error);\n      setMessage('âŒ Error al actualizar.');\n    }\n  };\n\n  // Estilos\n  const containerStyle = {\n    minHeight: '100vh',\n    background: '#f1f5f9',\n    padding: 20,\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'center'\n  };\n  const tableStyle = {\n    width: '100%',\n    borderCollapse: 'collapse',\n    background: '#fff',\n    borderRadius: 8,\n    overflow: 'hidden',\n    fontSize: 14,\n    boxShadow: '0 2px 5px rgba(0,0,0,0.05)'\n  };\n  const thStyle = {\n    background: '#334155',\n    color: '#fff',\n    padding: 15,\n    textAlign: 'left'\n  };\n  const tdStyle = {\n    padding: 15,\n    borderBottom: '1px solid #e2e8f0',\n    color: '#333',\n    verticalAlign: 'middle'\n  };\n\n  // Estilos Tabs\n  const tabContainerStyle = {\n    display: 'flex',\n    marginBottom: 20,\n    background: '#e2e8f0',\n    padding: 5,\n    borderRadius: 8\n  };\n  const tabStyle = active => ({\n    padding: '10px 20px',\n    borderRadius: 6,\n    cursor: 'pointer',\n    fontWeight: 'bold',\n    background: active ? '#fff' : 'transparent',\n    color: active ? '#334155' : '#64748b',\n    boxShadow: active ? '0 2px 4px rgba(0,0,0,0.1)' : 'none',\n    transition: '0.2s'\n  });\n\n  // Estilos Personal\n  const cardPersonalStyle = {\n    background: '#fff',\n    padding: 30,\n    borderRadius: 16,\n    boxShadow: '0 4px 6px rgba(0,0,0,0.1)',\n    maxWidth: 500,\n    width: '100%',\n    textAlign: 'center'\n  };\n  const inputStyle = {\n    width: '100%',\n    padding: 12,\n    marginBottom: 15,\n    borderRadius: 8,\n    border: '1px solid #cbd5e1',\n    fontSize: 16\n  };\n\n  // Helper Stock\n  const getStockStatus = kg => {\n    if (kg <= 5) return {\n      color: '#dc2626',\n      bg: '#fee2e2',\n      label: 'CRÃTICO'\n    };\n    if (kg <= 10) return {\n      color: '#d97706',\n      bg: '#fef3c7',\n      label: 'BAJO'\n    };\n    return {\n      color: '#166534',\n      bg: '#dcfce7',\n      label: 'OK'\n    };\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: containerStyle,\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        width: '100%',\n        maxWidth: 1000\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => navigate('/admin'),\n        style: {\n          marginBottom: 20,\n          padding: '10px 20px',\n          cursor: 'pointer'\n        },\n        children: \"\\u2B05 Volver al Panel\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 134,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: 'flex',\n          justifyContent: 'space-between',\n          alignItems: 'center',\n          marginBottom: 20\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          style: {\n            color: '#1e293b',\n            margin: 0\n          },\n          children: \"Gesti\\xF3n de Inventario\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 137,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: tabContainerStyle,\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            style: tabStyle(activeTab === 'global'),\n            onClick: () => setActiveTab('global'),\n            children: \"\\uD83C\\uDF0E Global (Clientes)\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 141,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: tabStyle(activeTab === 'personal'),\n            onClick: () => setActiveTab('personal'),\n            children: \"\\uD83D\\uDC64 Mi Inventario\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 144,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 140,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 136,\n        columnNumber: 17\n      }, this), activeTab === 'global' && /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          style: {\n            color: '#64748b',\n            marginBottom: 15\n          },\n          children: \"Monitoreo de stock en posesi\\xF3n de los clientes.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 153,\n          columnNumber: 25\n        }, this), loadingGlobal ? /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Cargando...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 154,\n          columnNumber: 42\n        }, this) : /*#__PURE__*/_jsxDEV(\"table\", {\n          style: tableStyle,\n          children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n            children: /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                style: thStyle,\n                children: \"Cliente\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 158,\n                columnNumber: 41\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                style: thStyle,\n                children: \"Stock Actual\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 159,\n                columnNumber: 41\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                style: thStyle,\n                children: \"Estatus\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 160,\n                columnNumber: 41\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                style: thStyle,\n                children: \"Registro Anterior\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 161,\n                columnNumber: 41\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                style: thStyle,\n                children: \"\\xDAltima Actualizaci\\xF3n\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 162,\n                columnNumber: 41\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 157,\n              columnNumber: 37\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 156,\n            columnNumber: 33\n          }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n            children: [inventariosGlobal.map(inv => {\n              var _inv$usuario2, _inv$usuario3;\n              const status = getStockStatus(inv.cantidad);\n              return /*#__PURE__*/_jsxDEV(\"tr\", {\n                style: {\n                  background: '#fff'\n                },\n                children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                  style: tdStyle,\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    style: {\n                      fontWeight: 'bold'\n                    },\n                    children: (_inv$usuario2 = inv.usuario) === null || _inv$usuario2 === void 0 ? void 0 : _inv$usuario2.username\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 171,\n                    columnNumber: 53\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    style: {\n                      fontSize: 11,\n                      color: '#64748b'\n                    },\n                    children: (_inv$usuario3 = inv.usuario) === null || _inv$usuario3 === void 0 ? void 0 : _inv$usuario3.email\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 172,\n                    columnNumber: 53\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 170,\n                  columnNumber: 49\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  style: tdStyle,\n                  children: /*#__PURE__*/_jsxDEV(\"span\", {\n                    style: {\n                      fontSize: 16,\n                      fontWeight: 'bold',\n                      color: '#0f172a'\n                    },\n                    children: [inv.cantidad, \" Kg\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 175,\n                    columnNumber: 53\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 174,\n                  columnNumber: 49\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  style: tdStyle,\n                  children: /*#__PURE__*/_jsxDEV(\"span\", {\n                    style: {\n                      background: status.bg,\n                      color: status.color,\n                      padding: '4px 8px',\n                      borderRadius: 12,\n                      fontSize: 11,\n                      fontWeight: 'bold'\n                    },\n                    children: status.label\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 178,\n                    columnNumber: 53\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 177,\n                  columnNumber: 49\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  style: tdStyle,\n                  children: /*#__PURE__*/_jsxDEV(\"span\", {\n                    style: {\n                      color: '#64748b'\n                    },\n                    children: [inv.ultimaCantidad, \" Kg\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 182,\n                    columnNumber: 69\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 182,\n                  columnNumber: 49\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  style: tdStyle,\n                  children: new Date(inv.updatedAt).toLocaleDateString()\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 183,\n                  columnNumber: 49\n                }, this)]\n              }, inv.id, true, {\n                fileName: _jsxFileName,\n                lineNumber: 169,\n                columnNumber: 45\n              }, this);\n            }), inventariosGlobal.length === 0 && /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: /*#__PURE__*/_jsxDEV(\"td\", {\n                colSpan: \"5\",\n                style: {\n                  padding: 20,\n                  textAlign: 'center'\n                },\n                children: \"No hay datos.\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 189,\n                columnNumber: 76\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 189,\n              columnNumber: 72\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 165,\n            columnNumber: 33\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 155,\n          columnNumber: 29\n        }, this)]\n      }, void 0, true), activeTab === 'personal' && /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: 'flex',\n          justifyContent: 'center'\n        },\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          style: cardPersonalStyle,\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            style: {\n              color: '#78549b',\n              marginBottom: 20\n            },\n            children: \"Mi Stock Disponible\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 200,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              background: '#f3e8ff',\n              padding: 20,\n              borderRadius: 12,\n              marginBottom: 30\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              style: {\n                fontSize: 14,\n                color: '#6b21a8',\n                display: 'block',\n                marginBottom: 5\n              },\n              children: \"CANTIDAD ACTUAL\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 203,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              style: {\n                fontSize: 48,\n                fontWeight: 'bold',\n                color: '#581c87'\n              },\n              children: [miInventario.cantidad, \" \", /*#__PURE__*/_jsxDEV(\"span\", {\n                style: {\n                  fontSize: 20\n                },\n                children: \"Kg\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 205,\n                columnNumber: 61\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 204,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 202,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              textAlign: 'left'\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              style: {\n                fontWeight: 'bold',\n                color: '#475569',\n                display: 'block',\n                marginBottom: 5\n              },\n              children: \"Actualizar Molido (Kg)\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 210,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"number\",\n              style: inputStyle,\n              value: inputMolido,\n              onChange: e => setInputMolido(e.target.value),\n              placeholder: \"0\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 211,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n              style: {\n                fontWeight: 'bold',\n                color: '#475569',\n                display: 'block',\n                marginBottom: 5\n              },\n              children: \"Actualizar Grano (Kg)\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 213,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"number\",\n              style: inputStyle,\n              value: inputGrano,\n              onChange: e => setInputGrano(e.target.value),\n              placeholder: \"0\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 214,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: handleUpdatePersonal,\n              style: {\n                width: '100%',\n                padding: '15px',\n                background: '#8b5cf6',\n                color: '#fff',\n                border: 'none',\n                borderRadius: 8,\n                fontSize: 16,\n                fontWeight: 'bold',\n                cursor: 'pointer',\n                marginTop: 10\n              },\n              disabled: loadingPersonal,\n              children: loadingPersonal ? 'Guardando...' : 'Actualizar Mi Stock'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 216,\n              columnNumber: 33\n            }, this), message && /*#__PURE__*/_jsxDEV(\"p\", {\n              style: {\n                textAlign: 'center',\n                marginTop: 15,\n                fontWeight: 'bold',\n                color: message.includes('Error') ? 'red' : 'green'\n              },\n              children: message\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 223,\n              columnNumber: 45\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 209,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 199,\n          columnNumber: 25\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 198,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 133,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 132,\n    columnNumber: 9\n  }, this);\n}\n_s(AdminInventario, \"d1nB9IzDCtLlBVId1Gq4vwWAEuE=\", false, function () {\n  return [useNavigate];\n});\n_c = AdminInventario;\nexport default AdminInventario;\nvar _c;\n$RefreshReg$(_c, \"AdminInventario\");","map":{"version":3,"names":["React","useState","useEffect","api","useNavigate","jsxDEV","_jsxDEV","Fragment","_Fragment","AdminInventario","_s","navigate","activeTab","setActiveTab","inventariosGlobal","setInventariosGlobal","loadingGlobal","setLoadingGlobal","miInventario","setMiInventario","cantidad","ultimaCantidad","inputMolido","setInputMolido","inputGrano","setInputGrano","message","setMessage","loadingPersonal","setLoadingPersonal","fetchGlobal","fetchPersonal","token","localStorage","getItem","response","get","headers","Authorization","soloClientes","data","filter","inv","_inv$usuario","usuario","rol","sorted","sort","a","b","error","console","handleUpdatePersonal","nuevoMolido","parseFloat","nuevoGrano","nuevoTotal","payload","patch","post","setTimeout","containerStyle","minHeight","background","padding","display","flexDirection","alignItems","tableStyle","width","borderCollapse","borderRadius","overflow","fontSize","boxShadow","thStyle","color","textAlign","tdStyle","borderBottom","verticalAlign","tabContainerStyle","marginBottom","tabStyle","active","cursor","fontWeight","transition","cardPersonalStyle","maxWidth","inputStyle","border","getStockStatus","kg","bg","label","style","children","onClick","fileName","_jsxFileName","lineNumber","columnNumber","justifyContent","margin","map","_inv$usuario2","_inv$usuario3","status","username","email","Date","updatedAt","toLocaleDateString","id","length","colSpan","type","value","onChange","e","target","placeholder","marginTop","disabled","includes","_c","$RefreshReg$"],"sources":["C:/Users/ferna/OneDrive/Documentos/App_Web_Cafe/Propuesta1_App/front_end/src/pages/admin/AdminInventario.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport api from '../../api/api';\r\nimport { useNavigate } from 'react-router-dom';\r\n\r\nfunction AdminInventario() {\r\n    const navigate = useNavigate();\r\n    const [activeTab, setActiveTab] = useState('global'); // 'global' | 'personal'\r\n    \r\n    // --- ESTADOS INVENTARIO GLOBAL ---\r\n    const [inventariosGlobal, setInventariosGlobal] = useState([]);\r\n    const [loadingGlobal, setLoadingGlobal] = useState(false);\r\n\r\n    // --- ESTADOS INVENTARIO PERSONAL ---\r\n    const [miInventario, setMiInventario] = useState({ cantidad: 0, ultimaCantidad: 0 });\r\n    const [inputMolido, setInputMolido] = useState('');\r\n    const [inputGrano, setInputGrano] = useState('');\r\n    const [message, setMessage] = useState('');\r\n    const [loadingPersonal, setLoadingPersonal] = useState(false);\r\n\r\n    useEffect(() => {\r\n        if (activeTab === 'global') {\r\n            fetchGlobal();\r\n        } else {\r\n            fetchPersonal();\r\n        }\r\n    }, [activeTab]);\r\n\r\n// 1. FETCH GLOBAL (Solo Clientes)\r\n    const fetchGlobal = async () => {\r\n        setLoadingGlobal(true);\r\n        try {\r\n            const token = localStorage.getItem('token');\r\n            const response = await api.get('/inventario', {\r\n                headers: { Authorization: `Bearer ${token}` }\r\n            });\r\n            \r\n            // ðŸ” FILTRO: Excluir al Admin de la lista global\r\n            // Solo pasamos los que tengan rol 'Cliente' (o que NO sean Admin)\r\n            const soloClientes = response.data.filter(inv => inv.usuario?.rol === 'Cliente');\r\n            \r\n            // Ordenamos por cantidad (menor a mayor para ver urgencias)\r\n            const sorted = soloClientes.sort((a, b) => a.cantidad - b.cantidad);\r\n            \r\n            setInventariosGlobal(sorted);\r\n        } catch (error) {\r\n            console.error(\"Error global\", error);\r\n        } finally {\r\n            setLoadingGlobal(false);\r\n        }\r\n    };\r\n\r\n    // 2. FETCH PERSONAL (Mi propio stock)\r\n    const fetchPersonal = async () => {\r\n        setLoadingPersonal(true);\r\n        try {\r\n            const token = localStorage.getItem('token');\r\n            const response = await api.get('/inventario/me', {\r\n                headers: { Authorization: `Bearer ${token}` }\r\n            });\r\n            if (response.data) {\r\n                setMiInventario(response.data);\r\n            }\r\n        } catch (error) {\r\n            console.error(\"Error personal\", error);\r\n        } finally {\r\n            setLoadingPersonal(false);\r\n        }\r\n    };\r\n\r\n    // 3. ACTUALIZAR PERSONAL\r\n    const handleUpdatePersonal = async () => {\r\n        const token = localStorage.getItem('token');\r\n        const nuevoMolido = parseFloat(inputMolido) || 0;\r\n        const nuevoGrano = parseFloat(inputGrano) || 0;\r\n        const nuevoTotal = nuevoMolido + nuevoGrano;\r\n\r\n        if (nuevoTotal <= 0) return setMessage('âš ï¸ Ingresa una cantidad vÃ¡lida.');\r\n\r\n        try {\r\n            const payload = { cantidad: nuevoTotal, ultimaCantidad: miInventario.cantidad };\r\n            \r\n            // Intentamos PATCH, si falla POST (lÃ³gica robusta)\r\n            let response;\r\n            try {\r\n                response = await api.patch('/inventario/me', payload, { headers: { Authorization: `Bearer ${token}` } });\r\n            } catch {\r\n                response = await api.post('/inventario/me', payload, { headers: { Authorization: `Bearer ${token}` } });\r\n            }\r\n\r\n            setMiInventario(response.data);\r\n            setMessage('âœ… Inventario actualizado.');\r\n            setInputMolido('');\r\n            setInputGrano('');\r\n            setTimeout(() => setMessage(''), 3000);\r\n        } catch (error) {\r\n            console.error(error);\r\n            setMessage('âŒ Error al actualizar.');\r\n        }\r\n    };\r\n\r\n    // Estilos\r\n    const containerStyle = { minHeight: '100vh', background: '#f1f5f9', padding: 20, display: 'flex', flexDirection: 'column', alignItems: 'center' };\r\n    const tableStyle = { width: '100%', borderCollapse: 'collapse', background: '#fff', borderRadius: 8, overflow: 'hidden', fontSize: 14, boxShadow: '0 2px 5px rgba(0,0,0,0.05)' };\r\n    const thStyle = { background: '#334155', color: '#fff', padding: 15, textAlign: 'left' };\r\n    const tdStyle = { padding: 15, borderBottom: '1px solid #e2e8f0', color: '#333', verticalAlign: 'middle' };\r\n    \r\n    // Estilos Tabs\r\n    const tabContainerStyle = { display: 'flex', marginBottom: 20, background: '#e2e8f0', padding: 5, borderRadius: 8 };\r\n    const tabStyle = (active) => ({\r\n        padding: '10px 20px',\r\n        borderRadius: 6,\r\n        cursor: 'pointer',\r\n        fontWeight: 'bold',\r\n        background: active ? '#fff' : 'transparent',\r\n        color: active ? '#334155' : '#64748b',\r\n        boxShadow: active ? '0 2px 4px rgba(0,0,0,0.1)' : 'none',\r\n        transition: '0.2s'\r\n    });\r\n\r\n    // Estilos Personal\r\n    const cardPersonalStyle = { background: '#fff', padding: 30, borderRadius: 16, boxShadow: '0 4px 6px rgba(0,0,0,0.1)', maxWidth: 500, width: '100%', textAlign: 'center' };\r\n    const inputStyle = { width: '100%', padding: 12, marginBottom: 15, borderRadius: 8, border: '1px solid #cbd5e1', fontSize: 16 };\r\n\r\n    // Helper Stock\r\n    const getStockStatus = (kg) => {\r\n        if (kg <= 5) return { color: '#dc2626', bg: '#fee2e2', label: 'CRÃTICO' };\r\n        if (kg <= 10) return { color: '#d97706', bg: '#fef3c7', label: 'BAJO' };\r\n        return { color: '#166534', bg: '#dcfce7', label: 'OK' };\r\n    };\r\n\r\n    return (\r\n        <div style={containerStyle}>\r\n            <div style={{width: '100%', maxWidth: 1000}}>\r\n                <button onClick={() => navigate('/admin')} style={{ marginBottom: 20, padding: '10px 20px', cursor: 'pointer' }}>â¬… Volver al Panel</button>\r\n                \r\n                <div style={{display:'flex', justifyContent:'space-between', alignItems:'center', marginBottom: 20}}>\r\n                    <h2 style={{ color: '#1e293b', margin:0 }}>GestiÃ³n de Inventario</h2>\r\n                    \r\n                    {/* PESTAÃ‘AS */}\r\n                    <div style={tabContainerStyle}>\r\n                        <div style={tabStyle(activeTab === 'global')} onClick={() => setActiveTab('global')}>\r\n                            ðŸŒŽ Global (Clientes)\r\n                        </div>\r\n                        <div style={tabStyle(activeTab === 'personal')} onClick={() => setActiveTab('personal')}>\r\n                            ðŸ‘¤ Mi Inventario\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n\r\n                {/* --- VISTA GLOBAL --- */}\r\n                {activeTab === 'global' && (\r\n                    <>\r\n                        <p style={{ color: '#64748b', marginBottom: 15 }}>Monitoreo de stock en posesiÃ³n de los clientes.</p>\r\n                        {loadingGlobal ? <p>Cargando...</p> : (\r\n                            <table style={tableStyle}>\r\n                                <thead>\r\n                                    <tr>\r\n                                        <th style={thStyle}>Cliente</th>\r\n                                        <th style={thStyle}>Stock Actual</th>\r\n                                        <th style={thStyle}>Estatus</th>\r\n                                        <th style={thStyle}>Registro Anterior</th>\r\n                                        <th style={thStyle}>Ãšltima ActualizaciÃ³n</th>\r\n                                    </tr>\r\n                                </thead>\r\n                                <tbody>\r\n                                    {inventariosGlobal.map((inv) => {\r\n                                        const status = getStockStatus(inv.cantidad);\r\n                                        return (\r\n                                            <tr key={inv.id} style={{ background: '#fff' }}>\r\n                                                <td style={tdStyle}>\r\n                                                    <div style={{fontWeight:'bold'}}>{inv.usuario?.username}</div>\r\n                                                    <div style={{fontSize:11, color:'#64748b'}}>{inv.usuario?.email}</div>\r\n                                                </td>\r\n                                                <td style={tdStyle}>\r\n                                                    <span style={{fontSize: 16, fontWeight: 'bold', color: '#0f172a'}}>{inv.cantidad} Kg</span>\r\n                                                </td>\r\n                                                <td style={tdStyle}>\r\n                                                    <span style={{ background: status.bg, color: status.color, padding: '4px 8px', borderRadius: 12, fontSize: 11, fontWeight: 'bold' }}>\r\n                                                        {status.label}\r\n                                                    </span>\r\n                                                </td>\r\n                                                <td style={tdStyle}><span style={{color: '#64748b'}}>{inv.ultimaCantidad} Kg</span></td>\r\n                                                <td style={tdStyle}>\r\n                                                    {new Date(inv.updatedAt).toLocaleDateString()}\r\n                                                </td>\r\n                                            </tr>\r\n                                        );\r\n                                    })}\r\n                                    {inventariosGlobal.length === 0 && <tr><td colSpan=\"5\" style={{padding:20, textAlign:'center'}}>No hay datos.</td></tr>}\r\n                                </tbody>\r\n                            </table>\r\n                        )}\r\n                    </>\r\n                )}\r\n\r\n                {/* --- VISTA PERSONAL --- */}\r\n                {activeTab === 'personal' && (\r\n                    <div style={{display:'flex', justifyContent:'center'}}>\r\n                        <div style={cardPersonalStyle}>\r\n                            <h3 style={{color: '#78549b', marginBottom: 20}}>Mi Stock Disponible</h3>\r\n                            \r\n                            <div style={{background:'#f3e8ff', padding:20, borderRadius:12, marginBottom:30}}>\r\n                                <span style={{fontSize: 14, color:'#6b21a8', display:'block', marginBottom:5}}>CANTIDAD ACTUAL</span>\r\n                                <span style={{fontSize: 48, fontWeight:'bold', color:'#581c87'}}>\r\n                                    {miInventario.cantidad} <span style={{fontSize:20}}>Kg</span>\r\n                                </span>\r\n                            </div>\r\n\r\n                            <div style={{textAlign:'left'}}>\r\n                                <label style={{fontWeight:'bold', color:'#475569', display:'block', marginBottom:5}}>Actualizar Molido (Kg)</label>\r\n                                <input type=\"number\" style={inputStyle} value={inputMolido} onChange={(e) => setInputMolido(e.target.value)} placeholder=\"0\" />\r\n                                \r\n                                <label style={{fontWeight:'bold', color:'#475569', display:'block', marginBottom:5}}>Actualizar Grano (Kg)</label>\r\n                                <input type=\"number\" style={inputStyle} value={inputGrano} onChange={(e) => setInputGrano(e.target.value)} placeholder=\"0\" />\r\n\r\n                                <button \r\n                                    onClick={handleUpdatePersonal}\r\n                                    style={{ width: '100%', padding: '15px', background: '#8b5cf6', color: '#fff', border: 'none', borderRadius: 8, fontSize: 16, fontWeight: 'bold', cursor: 'pointer', marginTop: 10 }}\r\n                                    disabled={loadingPersonal}\r\n                                >\r\n                                    {loadingPersonal ? 'Guardando...' : 'Actualizar Mi Stock'}\r\n                                </button>\r\n                                {message && <p style={{textAlign:'center', marginTop:15, fontWeight:'bold', color: message.includes('Error') ? 'red' : 'green'}}>{message}</p>}\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                )}\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default AdminInventario;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}