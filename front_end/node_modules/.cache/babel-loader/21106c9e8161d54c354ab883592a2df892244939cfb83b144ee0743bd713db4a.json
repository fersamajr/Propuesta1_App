{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\ferna\\\\OneDrive\\\\Documentos\\\\App_Web_Cafe\\\\Propuesta1_App\\\\front_end\\\\src\\\\pages\\\\admin\\\\AdminBroadcast.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport api from '../../api/api';\nimport { useNavigate } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction AdminBroadcast() {\n  _s();\n  const navigate = useNavigate();\n  const [form, setForm] = useState({\n    asunto: '',\n    mensaje: ''\n  });\n  const [loading, setLoading] = useState(false);\n  const handleSend = async e => {\n    e.preventDefault();\n    if (!window.confirm(\"¬øEst√°s seguro de enviar este mensaje a TODOS los clientes?\")) return;\n    setLoading(true);\n    try {\n      const token = localStorage.getItem('token');\n      await api.post('/users/admin/broadcast', form, {\n        // Ajusta la URL seg√∫n donde pusiste el endpoint\n        headers: {\n          Authorization: `Bearer ${token}`\n        }\n      });\n      alert('‚úÖ Anuncio enviado correctamente a la base de clientes.');\n      navigate('/admin');\n    } catch (error) {\n      console.error(error);\n      alert('‚ùå Error al enviar el anuncio.');\n    } finally {\n      setLoading(false);\n    }\n  };\n  const containerStyle = {\n    minHeight: '100vh',\n    background: '#f1f5f9',\n    padding: 20,\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'center'\n  };\n  const cardStyle = {\n    background: '#fff',\n    padding: 40,\n    borderRadius: 16,\n    boxShadow: '0 4px 10px rgba(0,0,0,0.05)',\n    width: '100%',\n    maxWidth: 600\n  };\n  const inputStyle = {\n    width: '100%',\n    padding: 12,\n    marginBottom: 20,\n    borderRadius: 8,\n    border: '1px solid #cbd5e1'\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: containerStyle,\n    children: [/*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: () => navigate('/admin'),\n      style: {\n        alignSelf: 'flex-start',\n        marginBottom: 20,\n        padding: '8px 16px',\n        cursor: 'pointer'\n      },\n      children: \"\\u2B05 Volver\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: cardStyle,\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        style: {\n          color: '#78549b',\n          marginBottom: 10,\n          textAlign: 'center'\n        },\n        children: \"\\uD83D\\uDCE2 Sistema de Anuncios\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 39,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        style: {\n          textAlign: 'center',\n          color: '#64748b',\n          marginBottom: 30\n        },\n        children: \"Env\\xEDa notificaciones por correo a todos tus clientes activos.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: handleSend,\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          style: {\n            fontWeight: 'bold',\n            display: 'block',\n            marginBottom: 5\n          },\n          children: \"Asunto del Correo\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 43,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          value: form.asunto,\n          onChange: e => setForm({\n            ...form,\n            asunto: e.target.value\n          }),\n          style: inputStyle,\n          placeholder: \"Ej: Aviso de vacaciones, Cambio de precios...\",\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 44,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          style: {\n            fontWeight: 'bold',\n            display: 'block',\n            marginBottom: 5\n          },\n          children: \"Mensaje\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n          value: form.mensaje,\n          onChange: e => setForm({\n            ...form,\n            mensaje: e.target.value\n          }),\n          style: {\n            ...inputStyle,\n            minHeight: 150,\n            fontFamily: 'sans-serif'\n          },\n          placeholder: \"Escribe el contenido del anuncio aqu\\xED...\",\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          disabled: loading,\n          style: {\n            width: '100%',\n            padding: 15,\n            background: loading ? '#cbd5e1' : '#a78Bfa',\n            color: '#222',\n            border: 'none',\n            borderRadius: 8,\n            fontWeight: 'bold',\n            cursor: loading ? 'not-allowed' : 'pointer'\n          },\n          children: loading ? 'Enviando correos...' : 'Enviar Anuncio Masivo'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 35,\n    columnNumber: 9\n  }, this);\n}\n_s(AdminBroadcast, \"eG/SsqUBTcF0ad8RGQqgkki0Sas=\", false, function () {\n  return [useNavigate];\n});\n_c = AdminBroadcast;\nexport default AdminBroadcast;\nvar _c;\n$RefreshReg$(_c, \"AdminBroadcast\");","map":{"version":3,"names":["React","useState","api","useNavigate","jsxDEV","_jsxDEV","AdminBroadcast","_s","navigate","form","setForm","asunto","mensaje","loading","setLoading","handleSend","e","preventDefault","window","confirm","token","localStorage","getItem","post","headers","Authorization","alert","error","console","containerStyle","minHeight","background","padding","display","flexDirection","alignItems","cardStyle","borderRadius","boxShadow","width","maxWidth","inputStyle","marginBottom","border","style","children","onClick","alignSelf","cursor","fileName","_jsxFileName","lineNumber","columnNumber","color","textAlign","onSubmit","fontWeight","type","value","onChange","target","placeholder","required","fontFamily","disabled","_c","$RefreshReg$"],"sources":["C:/Users/ferna/OneDrive/Documentos/App_Web_Cafe/Propuesta1_App/front_end/src/pages/admin/AdminBroadcast.jsx"],"sourcesContent":["import React, { useState } from 'react';\r\nimport api from '../../api/api';\r\nimport { useNavigate } from 'react-router-dom';\r\n\r\nfunction AdminBroadcast() {\r\n    const navigate = useNavigate();\r\n    const [form, setForm] = useState({ asunto: '', mensaje: '' });\r\n    const [loading, setLoading] = useState(false);\r\n\r\n    const handleSend = async (e) => {\r\n        e.preventDefault();\r\n        if(!window.confirm(\"¬øEst√°s seguro de enviar este mensaje a TODOS los clientes?\")) return;\r\n        \r\n        setLoading(true);\r\n        try {\r\n            const token = localStorage.getItem('token');\r\n            await api.post('/users/admin/broadcast', form, { // Ajusta la URL seg√∫n donde pusiste el endpoint\r\n                headers: { Authorization: `Bearer ${token}` }\r\n            });\r\n            alert('‚úÖ Anuncio enviado correctamente a la base de clientes.');\r\n            navigate('/admin');\r\n        } catch (error) {\r\n            console.error(error);\r\n            alert('‚ùå Error al enviar el anuncio.');\r\n        } finally {\r\n            setLoading(false);\r\n        }\r\n    };\r\n\r\n    const containerStyle = { minHeight: '100vh', background: '#f1f5f9', padding: 20, display: 'flex', flexDirection: 'column', alignItems: 'center' };\r\n    const cardStyle = { background: '#fff', padding: 40, borderRadius: 16, boxShadow: '0 4px 10px rgba(0,0,0,0.05)', width: '100%', maxWidth: 600 };\r\n    const inputStyle = { width: '100%', padding: 12, marginBottom: 20, borderRadius: 8, border: '1px solid #cbd5e1' };\r\n\r\n    return (\r\n        <div style={containerStyle}>\r\n            <button onClick={() => navigate('/admin')} style={{ alignSelf:'flex-start', marginBottom: 20, padding: '8px 16px', cursor: 'pointer' }}>‚¨Ö Volver</button>\r\n            \r\n            <div style={cardStyle}>\r\n                <h2 style={{ color: '#78549b', marginBottom: 10, textAlign:'center' }}>üì¢ Sistema de Anuncios</h2>\r\n                <p style={{textAlign:'center', color:'#64748b', marginBottom:30}}>Env√≠a notificaciones por correo a todos tus clientes activos.</p>\r\n                \r\n                <form onSubmit={handleSend}>\r\n                    <label style={{fontWeight:'bold', display:'block', marginBottom:5}}>Asunto del Correo</label>\r\n                    <input \r\n                        type=\"text\" \r\n                        value={form.asunto} \r\n                        onChange={e => setForm({...form, asunto: e.target.value})} \r\n                        style={inputStyle} \r\n                        placeholder=\"Ej: Aviso de vacaciones, Cambio de precios...\" \r\n                        required\r\n                    />\r\n\r\n                    <label style={{fontWeight:'bold', display:'block', marginBottom:5}}>Mensaje</label>\r\n                    <textarea \r\n                        value={form.mensaje} \r\n                        onChange={e => setForm({...form, mensaje: e.target.value})} \r\n                        style={{...inputStyle, minHeight: 150, fontFamily:'sans-serif'}} \r\n                        placeholder=\"Escribe el contenido del anuncio aqu√≠...\" \r\n                        required\r\n                    />\r\n\r\n                    <button \r\n                        type=\"submit\" \r\n                        disabled={loading}\r\n                        style={{ width: '100%', padding: 15, background: loading ? '#cbd5e1' : '#a78Bfa', color: '#222', border: 'none', borderRadius: 8, fontWeight: 'bold', cursor: loading ? 'not-allowed' : 'pointer' }}\r\n                    >\r\n                        {loading ? 'Enviando correos...' : 'Enviar Anuncio Masivo'}\r\n                    </button>\r\n                </form>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default AdminBroadcast;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}