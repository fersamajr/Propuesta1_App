{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\ferna\\\\OneDrive\\\\Documentos\\\\App_Web_Cafe\\\\Propuesta1_App\\\\front_end\\\\src\\\\pages\\\\admin\\\\AdminPredicciones.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport api from '../../api/api';\nimport { useNavigate } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction AdminPredicciones() {\n  _s();\n  var _selectedPrediccion$u;\n  const navigate = useNavigate();\n  const [predicciones, setPredicciones] = useState([]);\n  const [usuarios, setUsuarios] = useState([]);\n  const [pedidos, setPedidos] = useState([]);\n  const [filteredPredicciones, setFilteredPredicciones] = useState([]);\n  const [selectedUser, setSelectedUser] = useState('');\n  const [loading, setLoading] = useState(true);\n\n  // --- ESTADOS MODAL ASOCIACI√ìN ---\n  const [showModal, setShowModal] = useState(false);\n  const [selectedPrediccion, setSelectedPrediccion] = useState(null);\n  const [selectedPedidoId, setSelectedPedidoId] = useState('');\n  useEffect(() => {\n    fetchData();\n  }, []);\n\n  // Efecto para filtrar cuando cambia el select de usuario o la data\n  useEffect(() => {\n    if (selectedUser) {\n      setFilteredPredicciones(predicciones.filter(p => {\n        var _p$usuario;\n        return ((_p$usuario = p.usuario) === null || _p$usuario === void 0 ? void 0 : _p$usuario.id) === selectedUser;\n      }));\n    } else {\n      setFilteredPredicciones(predicciones);\n    }\n  }, [selectedUser, predicciones]);\n  const fetchData = async () => {\n    try {\n      const token = localStorage.getItem('token');\n      const config = {\n        headers: {\n          Authorization: `Bearer ${token}`\n        }\n      };\n      const [predRes, userRes, pedRes] = await Promise.all([api.get('/predicciones', config), api.get('/users', config), api.get('/pedidos', config)]);\n\n      // 1. Predicciones (Ordenadas por fecha m√°s reciente)\n      setPredicciones(predRes.data.sort((a, b) => new Date(b.fecha) - new Date(a.fecha)));\n\n      // 2. Usuarios (Solo clientes)\n      setUsuarios(userRes.data.filter(u => u.rol === 'Cliente'));\n\n      // 3. Pedidos (Todos, para tenerlos listos)\n      setPedidos(pedRes.data);\n    } catch (error) {\n      console.error(\"Error cargando datos\", error);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // ABRIR MODAL: Filtrar pedidos que pertenezcan al mismo cliente de la predicci√≥n\n  const handleOpenAssociate = prediccion => {\n    setSelectedPrediccion(prediccion);\n    setSelectedPedidoId(''); // Reset selection\n    setShowModal(true);\n  };\n\n  // GUARDAR ASOCIACI√ìN\n  const handleAssociate = async () => {\n    if (!selectedPedidoId) return alert(\"Selecciona un pedido\");\n    try {\n      const token = localStorage.getItem('token');\n\n      // Actualizamos la predicci√≥n poni√©ndole el ID del pedido\n      await api.patch(`/predicciones/${selectedPrediccion.id}`, {\n        pedidoId: selectedPedidoId,\n        asociadaAPedido: true\n      }, {\n        headers: {\n          Authorization: `Bearer ${token}`\n        }\n      });\n      alert(\"‚úÖ Predicci√≥n vinculada correctamente\");\n      setShowModal(false);\n      fetchData(); // Recargar datos\n    } catch (error) {\n      console.error(\"Error asociando\", error);\n      alert(\"Error al vincular\");\n    }\n  };\n\n  // Estilos\n  const tableStyle = {\n    width: '100%',\n    borderCollapse: 'collapse',\n    marginTop: 20,\n    background: '#fff',\n    borderRadius: 8,\n    overflow: 'hidden',\n    fontSize: 14\n  };\n  const thStyle = {\n    background: '#334155',\n    color: '#fff',\n    padding: '12px 15px',\n    textAlign: 'left'\n  };\n  const tdStyle = {\n    padding: '12px 15px',\n    borderBottom: '1px solid #e2e8f0',\n    color: '#333',\n    verticalAlign: 'middle'\n  };\n  const selectStyle = {\n    padding: 10,\n    borderRadius: 6,\n    border: '1px solid #cbd5e1',\n    width: 300\n  };\n\n  // Modal Styles\n  const modalOverlay = {\n    position: 'fixed',\n    top: 0,\n    left: 0,\n    width: '100%',\n    height: '100%',\n    background: 'rgba(0,0,0,0.5)',\n    display: 'flex',\n    justifyContent: 'center',\n    alignItems: 'center',\n    zIndex: 1000\n  };\n  const modalContent = {\n    background: '#fff',\n    padding: 30,\n    borderRadius: 12,\n    width: 500,\n    boxShadow: '0 4px 20px rgba(0,0,0,0.2)'\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      minHeight: '100vh',\n      background: '#f1f5f9',\n      padding: 20\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: () => navigate('/admin'),\n      style: {\n        marginBottom: 20,\n        padding: '10px 20px',\n        cursor: 'pointer'\n      },\n      children: \"\\u2B05 Volver al Panel\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        display: 'flex',\n        justifyContent: 'space-between',\n        alignItems: 'center'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        style: {\n          color: '#1e293b'\n        },\n        children: \"An\\xE1lisis de Predicciones\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n        style: selectStyle,\n        value: selectedUser,\n        onChange: e => setSelectedUser(e.target.value),\n        children: [/*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"\",\n          children: \"-- Ver Todos los Clientes --\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 117,\n          columnNumber: 21\n        }, this), usuarios.map(u => {\n          var _u$perfil;\n          return /*#__PURE__*/_jsxDEV(\"option\", {\n            value: u.id,\n            children: [u.username, \" (\", ((_u$perfil = u.perfil) === null || _u$perfil === void 0 ? void 0 : _u$perfil.restaurant) || '-', \")\"]\n          }, u.id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 119,\n            columnNumber: 25\n          }, this);\n        })]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 13\n    }, this), loading ? /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"Cargando datos...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 24\n    }, this) : /*#__PURE__*/_jsxDEV(\"table\", {\n      style: tableStyle,\n      children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n        children: /*#__PURE__*/_jsxDEV(\"tr\", {\n          children: [/*#__PURE__*/_jsxDEV(\"th\", {\n            style: thStyle,\n            children: \"Fecha Predicha\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 128,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            style: thStyle,\n            children: \"Cliente\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 129,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            style: thStyle,\n            children: \"Estimaci\\xF3n (Kg)\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 130,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            style: thStyle,\n            children: \"Estado\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 131,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            style: thStyle,\n            children: \"Acci\\xF3n\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 132,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 127,\n          columnNumber: 25\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n        children: filteredPredicciones.map(pred => {\n          var _pred$usuario, _pred$usuario2, _pred$usuario2$perfil;\n          return /*#__PURE__*/_jsxDEV(\"tr\", {\n            style: {\n              background: pred.pedidoId ? '#f0fdf4' : '#fff'\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"td\", {\n              style: tdStyle,\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  fontWeight: 'bold'\n                },\n                children: new Date(pred.fecha).toLocaleDateString()\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 139,\n                columnNumber: 37\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 138,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              style: tdStyle,\n              children: [(_pred$usuario = pred.usuario) === null || _pred$usuario === void 0 ? void 0 : _pred$usuario.username, /*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  fontSize: 11,\n                  color: '#64748b'\n                },\n                children: (_pred$usuario2 = pred.usuario) === null || _pred$usuario2 === void 0 ? void 0 : (_pred$usuario2$perfil = _pred$usuario2.perfil) === null || _pred$usuario2$perfil === void 0 ? void 0 : _pred$usuario2$perfil.restaurant\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 143,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 141,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              style: tdStyle,\n              children: [pred.cantidad, \" Kg\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 145,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              style: tdStyle,\n              children: pred.pedidoId ? /*#__PURE__*/_jsxDEV(\"span\", {\n                style: {\n                  color: '#166534',\n                  fontWeight: 'bold',\n                  fontSize: 12\n                },\n                children: \"\\u2705 CUMPLIDA\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 150,\n                columnNumber: 41\n              }, this) : /*#__PURE__*/_jsxDEV(\"span\", {\n                style: {\n                  color: '#ca8a04',\n                  fontWeight: 'bold',\n                  fontSize: 12\n                },\n                children: \"\\u23F3 PENDIENTE\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 152,\n                columnNumber: 41\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 148,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              style: tdStyle,\n              children: [!pred.pedidoId && /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => handleOpenAssociate(pred),\n                style: {\n                  padding: '5px 10px',\n                  background: '#3b82f6',\n                  color: '#fff',\n                  border: 'none',\n                  borderRadius: 5,\n                  cursor: 'pointer'\n                },\n                children: \"\\uD83D\\uDD17 Asociar Pedido\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 157,\n                columnNumber: 41\n              }, this), pred.pedidoId && /*#__PURE__*/_jsxDEV(\"span\", {\n                style: {\n                  fontSize: 11,\n                  color: '#666'\n                },\n                children: [\"ID Pedido: ...\", pred.pedidoId.slice(-5)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 164,\n                columnNumber: 55\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 155,\n              columnNumber: 33\n            }, this)]\n          }, pred.id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 137,\n            columnNumber: 29\n          }, this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 135,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 17\n    }, this), showModal && selectedPrediccion && /*#__PURE__*/_jsxDEV(\"div\", {\n      style: modalOverlay,\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        style: modalContent,\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          style: {\n            color: '#1e293b',\n            marginBottom: 15\n          },\n          children: \"Vincular Pedido Real\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 176,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            background: '#f8fafc',\n            padding: 15,\n            borderRadius: 8,\n            marginBottom: 20,\n            fontSize: 14\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"Predicci\\xF3n para:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 179,\n              columnNumber: 32\n            }, this), \" \", (_selectedPrediccion$u = selectedPrediccion.usuario) === null || _selectedPrediccion$u === void 0 ? void 0 : _selectedPrediccion$u.username]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 179,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"Fecha Estimada:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 180,\n              columnNumber: 32\n            }, this), \" \", new Date(selectedPrediccion.fecha).toLocaleDateString()]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 180,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"Cantidad Estimada:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 181,\n              columnNumber: 32\n            }, this), \" \", selectedPrediccion.cantidad, \" Kg\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 181,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 178,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          style: {\n            display: 'block',\n            marginBottom: 5,\n            fontWeight: 'bold',\n            color: '#475569'\n          },\n          children: \"Selecciona el Pedido Real:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 184,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n          style: {\n            width: '100%',\n            padding: 10,\n            borderRadius: 6,\n            border: '1px solid #cbd5e1',\n            marginBottom: 20\n          },\n          value: selectedPedidoId,\n          onChange: e => setSelectedPedidoId(e.target.value),\n          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"\",\n            children: \"-- Seleccionar Pedido --\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 190,\n            columnNumber: 29\n          }, this), pedidos.filter(p => {\n            var _p$usuario2, _selectedPrediccion$u2;\n            return ((_p$usuario2 = p.usuario) === null || _p$usuario2 === void 0 ? void 0 : _p$usuario2.id) === ((_selectedPrediccion$u2 = selectedPrediccion.usuario) === null || _selectedPrediccion$u2 === void 0 ? void 0 : _selectedPrediccion$u2.id);\n          })\n          // Opcional: Filtrar solo los que no tienen predicci√≥n ya asignada si quisieras ser estricto\n          .sort((a, b) => new Date(b.createdAt) - new Date(a.createdAt)).map(p => {\n            const totalKg = p.solicitudPedido ? p.solicitudPedido.grano + p.solicitudPedido.molido : 0;\n            return /*#__PURE__*/_jsxDEV(\"option\", {\n              value: p.id,\n              children: [new Date(p.createdAt).toLocaleDateString(), \" - Total: \", totalKg, \" Kg\", p.entregado ? ' (Entregado)' : ' (Pendiente)']\n            }, p.id, true, {\n              fileName: _jsxFileName,\n              lineNumber: 199,\n              columnNumber: 41\n            }, this);\n          })]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 185,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            display: 'flex',\n            justifyContent: 'flex-end',\n            gap: 10\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => setShowModal(false),\n            style: {\n              padding: '10px 20px',\n              background: '#ef4444',\n              color: '#fff',\n              border: 'none',\n              borderRadius: 6,\n              cursor: 'pointer'\n            },\n            children: \"Cancelar\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 209,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: handleAssociate,\n            style: {\n              padding: '10px 20px',\n              background: '#22c55e',\n              color: '#fff',\n              border: 'none',\n              borderRadius: 6,\n              cursor: 'pointer',\n              fontWeight: 'bold'\n            },\n            children: \"Guardar V\\xEDnculo\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 210,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 208,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 175,\n        columnNumber: 21\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 174,\n      columnNumber: 17\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 105,\n    columnNumber: 9\n  }, this);\n}\n_s(AdminPredicciones, \"VzO1iCkLoYaFfvghSuhmhbZg06A=\", false, function () {\n  return [useNavigate];\n});\n_c = AdminPredicciones;\nexport default AdminPredicciones;\nvar _c;\n$RefreshReg$(_c, \"AdminPredicciones\");","map":{"version":3,"names":["React","useState","useEffect","api","useNavigate","jsxDEV","_jsxDEV","AdminPredicciones","_s","_selectedPrediccion$u","navigate","predicciones","setPredicciones","usuarios","setUsuarios","pedidos","setPedidos","filteredPredicciones","setFilteredPredicciones","selectedUser","setSelectedUser","loading","setLoading","showModal","setShowModal","selectedPrediccion","setSelectedPrediccion","selectedPedidoId","setSelectedPedidoId","fetchData","filter","p","_p$usuario","usuario","id","token","localStorage","getItem","config","headers","Authorization","predRes","userRes","pedRes","Promise","all","get","data","sort","a","b","Date","fecha","u","rol","error","console","handleOpenAssociate","prediccion","handleAssociate","alert","patch","pedidoId","asociadaAPedido","tableStyle","width","borderCollapse","marginTop","background","borderRadius","overflow","fontSize","thStyle","color","padding","textAlign","tdStyle","borderBottom","verticalAlign","selectStyle","border","modalOverlay","position","top","left","height","display","justifyContent","alignItems","zIndex","modalContent","boxShadow","style","minHeight","children","onClick","marginBottom","cursor","fileName","_jsxFileName","lineNumber","columnNumber","value","onChange","e","target","map","_u$perfil","username","perfil","restaurant","pred","_pred$usuario","_pred$usuario2","_pred$usuario2$perfil","fontWeight","toLocaleDateString","cantidad","slice","_p$usuario2","_selectedPrediccion$u2","createdAt","totalKg","solicitudPedido","grano","molido","entregado","gap","_c","$RefreshReg$"],"sources":["C:/Users/ferna/OneDrive/Documentos/App_Web_Cafe/Propuesta1_App/front_end/src/pages/admin/AdminPredicciones.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport api from '../../api/api';\r\nimport { useNavigate } from 'react-router-dom';\r\n\r\nfunction AdminPredicciones() {\r\n    const navigate = useNavigate();\r\n    const [predicciones, setPredicciones] = useState([]);\r\n    const [usuarios, setUsuarios] = useState([]);\r\n    const [pedidos, setPedidos] = useState([]);\r\n    \r\n    const [filteredPredicciones, setFilteredPredicciones] = useState([]);\r\n    const [selectedUser, setSelectedUser] = useState('');\r\n    \r\n    const [loading, setLoading] = useState(true);\r\n\r\n    // --- ESTADOS MODAL ASOCIACI√ìN ---\r\n    const [showModal, setShowModal] = useState(false);\r\n    const [selectedPrediccion, setSelectedPrediccion] = useState(null);\r\n    const [selectedPedidoId, setSelectedPedidoId] = useState('');\r\n\r\n    useEffect(() => {\r\n        fetchData();\r\n    }, []);\r\n\r\n    // Efecto para filtrar cuando cambia el select de usuario o la data\r\n    useEffect(() => {\r\n        if (selectedUser) {\r\n            setFilteredPredicciones(predicciones.filter(p => p.usuario?.id === selectedUser));\r\n        } else {\r\n            setFilteredPredicciones(predicciones);\r\n        }\r\n    }, [selectedUser, predicciones]);\r\n\r\n    const fetchData = async () => {\r\n        try {\r\n            const token = localStorage.getItem('token');\r\n            const config = { headers: { Authorization: `Bearer ${token}` } };\r\n\r\n            const [predRes, userRes, pedRes] = await Promise.all([\r\n                api.get('/predicciones', config),\r\n                api.get('/users', config),\r\n                api.get('/pedidos', config)\r\n            ]);\r\n\r\n            // 1. Predicciones (Ordenadas por fecha m√°s reciente)\r\n            setPredicciones(predRes.data.sort((a, b) => new Date(b.fecha) - new Date(a.fecha)));\r\n            \r\n            // 2. Usuarios (Solo clientes)\r\n            setUsuarios(userRes.data.filter(u => u.rol === 'Cliente'));\r\n\r\n            // 3. Pedidos (Todos, para tenerlos listos)\r\n            setPedidos(pedRes.data);\r\n\r\n        } catch (error) {\r\n            console.error(\"Error cargando datos\", error);\r\n        } finally {\r\n            setLoading(false);\r\n        }\r\n    };\r\n\r\n    // ABRIR MODAL: Filtrar pedidos que pertenezcan al mismo cliente de la predicci√≥n\r\n    const handleOpenAssociate = (prediccion) => {\r\n        setSelectedPrediccion(prediccion);\r\n        setSelectedPedidoId(''); // Reset selection\r\n        setShowModal(true);\r\n    };\r\n\r\n    // GUARDAR ASOCIACI√ìN\r\n    const handleAssociate = async () => {\r\n        if (!selectedPedidoId) return alert(\"Selecciona un pedido\");\r\n\r\n        try {\r\n            const token = localStorage.getItem('token');\r\n            \r\n            // Actualizamos la predicci√≥n poni√©ndole el ID del pedido\r\n            await api.patch(`/predicciones/${selectedPrediccion.id}`, {\r\n                pedidoId: selectedPedidoId,\r\n                asociadaAPedido: true\r\n            }, {\r\n                headers: { Authorization: `Bearer ${token}` }\r\n            });\r\n\r\n            alert(\"‚úÖ Predicci√≥n vinculada correctamente\");\r\n            setShowModal(false);\r\n            fetchData(); // Recargar datos\r\n\r\n        } catch (error) {\r\n            console.error(\"Error asociando\", error);\r\n            alert(\"Error al vincular\");\r\n        }\r\n    };\r\n\r\n    // Estilos\r\n    const tableStyle = { width: '100%', borderCollapse: 'collapse', marginTop: 20, background: '#fff', borderRadius: 8, overflow: 'hidden', fontSize: 14 };\r\n    const thStyle = { background: '#334155', color: '#fff', padding: '12px 15px', textAlign: 'left' };\r\n    const tdStyle = { padding: '12px 15px', borderBottom: '1px solid #e2e8f0', color: '#333', verticalAlign: 'middle' };\r\n    const selectStyle = { padding: 10, borderRadius: 6, border: '1px solid #cbd5e1', width: 300 };\r\n    \r\n    // Modal Styles\r\n    const modalOverlay = { position: 'fixed', top: 0, left: 0, width: '100%', height: '100%', background: 'rgba(0,0,0,0.5)', display: 'flex', justifyContent: 'center', alignItems: 'center', zIndex: 1000 };\r\n    const modalContent = { background: '#fff', padding: 30, borderRadius: 12, width: 500, boxShadow: '0 4px 20px rgba(0,0,0,0.2)' };\r\n\r\n\r\n    return (\r\n        <div style={{ minHeight: '100vh', background: '#f1f5f9', padding: 20 }}>\r\n            <button onClick={() => navigate('/admin')} style={{ marginBottom: 20, padding: '10px 20px', cursor: 'pointer' }}>‚¨Ö Volver al Panel</button>\r\n            \r\n            <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center' }}>\r\n                <h2 style={{ color: '#1e293b' }}>An√°lisis de Predicciones</h2>\r\n                \r\n                {/* FILTRO DE CLIENTE */}\r\n                <select \r\n                    style={selectStyle}\r\n                    value={selectedUser}\r\n                    onChange={(e) => setSelectedUser(e.target.value)}\r\n                >\r\n                    <option value=\"\">-- Ver Todos los Clientes --</option>\r\n                    {usuarios.map(u => (\r\n                        <option key={u.id} value={u.id}>{u.username} ({u.perfil?.restaurant || '-'})</option>\r\n                    ))}\r\n                </select>\r\n            </div>\r\n\r\n            {loading ? <p>Cargando datos...</p> : (\r\n                <table style={tableStyle}>\r\n                    <thead>\r\n                        <tr>\r\n                            <th style={thStyle}>Fecha Predicha</th>\r\n                            <th style={thStyle}>Cliente</th>\r\n                            <th style={thStyle}>Estimaci√≥n (Kg)</th>\r\n                            <th style={thStyle}>Estado</th>\r\n                            <th style={thStyle}>Acci√≥n</th>\r\n                        </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                        {filteredPredicciones.map(pred => (\r\n                            <tr key={pred.id} style={{ background: pred.pedidoId ? '#f0fdf4' : '#fff' }}>\r\n                                <td style={tdStyle}>\r\n                                    <div style={{fontWeight: 'bold'}}>{new Date(pred.fecha).toLocaleDateString()}</div>\r\n                                </td>\r\n                                <td style={tdStyle}>\r\n                                    {pred.usuario?.username}\r\n                                    <div style={{fontSize:11, color:'#64748b'}}>{pred.usuario?.perfil?.restaurant}</div>\r\n                                </td>\r\n                                <td style={tdStyle}>\r\n                                    {pred.cantidad} Kg\r\n                                </td>\r\n                                <td style={tdStyle}>\r\n                                    {pred.pedidoId ? (\r\n                                        <span style={{color: '#166534', fontWeight:'bold', fontSize:12}}>‚úÖ CUMPLIDA</span>\r\n                                    ) : (\r\n                                        <span style={{color: '#ca8a04', fontWeight:'bold', fontSize:12}}>‚è≥ PENDIENTE</span>\r\n                                    )}\r\n                                </td>\r\n                                <td style={tdStyle}>\r\n                                    {!pred.pedidoId && (\r\n                                        <button \r\n                                            onClick={() => handleOpenAssociate(pred)}\r\n                                            style={{padding:'5px 10px', background:'#3b82f6', color:'#fff', border:'none', borderRadius:5, cursor:'pointer'}}\r\n                                        >\r\n                                            üîó Asociar Pedido\r\n                                        </button>\r\n                                    )}\r\n                                    {pred.pedidoId && <span style={{fontSize:11, color:'#666'}}>ID Pedido: ...{pred.pedidoId.slice(-5)}</span>}\r\n                                </td>\r\n                            </tr>\r\n                        ))}\r\n                    </tbody>\r\n                </table>\r\n            )}\r\n\r\n            {/* --- MODAL DE ASOCIACI√ìN --- */}\r\n            {showModal && selectedPrediccion && (\r\n                <div style={modalOverlay}>\r\n                    <div style={modalContent}>\r\n                        <h3 style={{color: '#1e293b', marginBottom: 15}}>Vincular Pedido Real</h3>\r\n                        \r\n                        <div style={{background:'#f8fafc', padding:15, borderRadius:8, marginBottom:20, fontSize:14}}>\r\n                            <p><strong>Predicci√≥n para:</strong> {selectedPrediccion.usuario?.username}</p>\r\n                            <p><strong>Fecha Estimada:</strong> {new Date(selectedPrediccion.fecha).toLocaleDateString()}</p>\r\n                            <p><strong>Cantidad Estimada:</strong> {selectedPrediccion.cantidad} Kg</p>\r\n                        </div>\r\n\r\n                        <label style={{display:'block', marginBottom:5, fontWeight:'bold', color:'#475569'}}>Selecciona el Pedido Real:</label>\r\n                        <select \r\n                            style={{width:'100%', padding:10, borderRadius:6, border:'1px solid #cbd5e1', marginBottom:20}}\r\n                            value={selectedPedidoId}\r\n                            onChange={(e) => setSelectedPedidoId(e.target.value)}\r\n                        >\r\n                            <option value=\"\">-- Seleccionar Pedido --</option>\r\n                            {/* FILTRAR: Solo pedidos de ESTE cliente */}\r\n                            {pedidos\r\n                                .filter(p => p.usuario?.id === selectedPrediccion.usuario?.id)\r\n                                // Opcional: Filtrar solo los que no tienen predicci√≥n ya asignada si quisieras ser estricto\r\n                                .sort((a, b) => new Date(b.createdAt) - new Date(a.createdAt))\r\n                                .map(p => {\r\n                                    const totalKg = p.solicitudPedido ? (p.solicitudPedido.grano + p.solicitudPedido.molido) : 0;\r\n                                    return (\r\n                                        <option key={p.id} value={p.id}>\r\n                                            {new Date(p.createdAt).toLocaleDateString()} - Total: {totalKg} Kg \r\n                                            {p.entregado ? ' (Entregado)' : ' (Pendiente)'}\r\n                                        </option>\r\n                                    )\r\n                                })\r\n                            }\r\n                        </select>\r\n\r\n                        <div style={{display:'flex', justifyContent:'flex-end', gap:10}}>\r\n                            <button onClick={() => setShowModal(false)} style={{padding:'10px 20px', background:'#ef4444', color:'#fff', border:'none', borderRadius:6, cursor:'pointer'}}>Cancelar</button>\r\n                            <button onClick={handleAssociate} style={{padding:'10px 20px', background:'#22c55e', color:'#fff', border:'none', borderRadius:6, cursor:'pointer', fontWeight:'bold'}}>Guardar V√≠nculo</button>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            )}\r\n\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default AdminPredicciones;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}